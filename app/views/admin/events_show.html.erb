<h1> Event </h1>

<table>
    <tr>    
        <th> Event name </th>
        <th> Address </th>
        <th> Start date </th>
        <th> End date </th>
        <th> Start time </th>
        <th> End time </th>
        <th> Description </th>
        <th> Update required explanation </th>
    </tr>

    <tr>
         <td> <%= @event.name %> </td>
         <td> <%= @event.address %> </td> 
         <td> <%= @event.start_date %> </td>
         <td> <%= @event.end_date %> </td>    
         <td> <%= @event.start_time %> </td>
         <td> <%= @event.start_time %> </td>
         <td> <%= @event.description %> </td> 
         <td> <%= @event.update_required_explanation %> </td>
    </tr> 

<br><br>

    <tr>
        <td>
            <%= form_for @event, url: event_admin_reviews_path(@event), method: :post, :data => {confirm: 'Are you sure that you would like to approve this event?'} do |f| %>
                <%= f.submit "Approve event" %> 
            <% end %> 
        </td> 

        <td>
            <%= form_for @event, url: event_admin_reviews_destroy_path(@event), method: :delete, :data => {confirm: 'Are you sure you would like to delete this event? '} do |f| %>
                <%= f.submit "Delete event" %> 
            <% end %> 
        </td>

        <td>    
            <% if @event.does_require_update  %> 
            <button type="button"  disabled >Require update</button>
            <% elsif @event.does_require_update == false %> 
                
                <form><button type="button" id='update-button'>Require update</button></form>

                <div class = 'update-form'>
                    <%= form_for @event, url: event_admin_reviews_patch_path(@event), method: :put, :data => {confirm: 'Are you sure you would like to require this update?'}, :html => { :class => 'update_form' } do |f| %>
                    <h3><%= f.label :update_required_explanation %></h3>
                    <br>
                    <%= f.text_area :update_required_explanation, size: "35x8" %>
                    <%= f.submit "Require event update", :class => 'submit-button' %> 
                    <% end %> 
                </div>
            <% end %> 
        </td>
    </tr>

</table>

<br><br><br><br>
<p> Return to <u> <%= link_to ' All events', admin_events_path, :class => 'item' %> </u> </p>